---
sidebar_position: 3
---

# PutItem

### Put item

```tsx
import { DynamoDBClient } from '@aws-cdk/client-dynamodb'
import { Store } from '@declanprice/dynostore'

const store = new Store('CustomerTable', new DynamoDBClient())

await store.put<CustomerItem>().item({ id: customer.id, firstName: customer.firstName }).exec();
```

### Put item with condition

Put item can optionally provide any combination of conditions that dynamodb supports, conditions must be seperated by either and(), or() conditions otherwise dynamodb will throw an error.

Stacked condition calls as seen below are automatically seperated using an and() condition.

```tsx
await store.put<CustomerItem>()
        .item({ id: '1', firstName: 'John' })
        .condition(eq('name', 'John'), and(), gt('age', 22))
        .condition(eq('address', '1/1 address st')
        .exec();
);
```

### Put item return values

Put item can optionally specify the return values wanted.

```tsx
await store.put<CustomerItem>()
        .item({ id: '1', firstName: 'John' })
        .return('ALL_OLD')
        .exec();
);
```

### Put item for transaction

Put item can be used within a transaction

```tsx
const customerTxItem = store.put<CustomerItem>()
        .item({ id: '1', firstName: 'John' })
        .return('ALL_OLD')
        .tx();
);
```
